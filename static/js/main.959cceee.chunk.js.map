{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","assets/images/user.png","assets/images/preloader.svg.gif","components/Users/users.module.css","logo.png","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","components/News/News.module.css","components/Timer/timer.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","redux/sidebar-reducer.js","redux/music.reducer.js","redux/redux-store.js","components/Music/Music.jsx","components/News/News.jsx","components/Timer/Timer.jsx","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","assets/images/play-button.png","assets/images/remove.png","components/common/Paginator/Paginator.module.css","hoc/withAuthRedirect.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","log","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","s","form","validate","Boolean","window","location","hostname","match","Navbar","nav","item","to","activeClassName","activeLink","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNamber","setPortionNamber","leftPortionPageNamber","rightPortionPageNamber","paginator","onClick","p","selectedPage","pageNamber","key","e","User","user","src","photos","small","userPhoto","style","backgroundcolor","color","borderRadius","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","withAuthRedirect","connect","bind","page","totalCount","Header","header","logo","loginBlock","isAuth","SET_USER_DATA","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","initialized","appReducer","withSuspense","Suspense","fallback","sidebarReducer","playlist","musicReducer","m","musicId","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","music","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","Music","setCount","newTreack","addImg","removeImg","News","initialCount","prevCount","Timer","second","setSecond","setInterval","timer","clearTimeout","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandleErrors","reason","promise","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","Promise","all","BaseJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.959cceee.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"03a5d9ff-ea35-4ffc-9270-174ce771f02c\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1,pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then (response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`unfollow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.log('Obsolete method. Please profileAPI object.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', {email,password,rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url');\r\n    }\r\n}\r\n\r\nexport const musicAPI = {\r\n    getPlaylist(musicId) {\r\n        return instance.get(`music/` + musicId)\r\n            .then (response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    play(musicId) {\r\n        return instance.post(`play/${musicId}`)\r\n    },\r\n    stop(musicId) {\r\n        return instance.delete(`stop/${musicId}`)\r\n    }\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs:[\r\n        {id: 1, name: 'Liza'},\r\n        {id: 2, name: 'Yanina'},\r\n        {id: 3, name: 'Tanya'},\r\n        {id: 4, name: 'Sergey'},\r\n        {id: 5, name: 'Kris'},\r\n        {id: 6, name: 'Yura'},\r\n    ],\r\n\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Your name\"},\r\n        {id: 3, message: \"Love\"},\r\n        {id: 4, message: \"Love\"},\r\n        {id: 5, message: \"Love\"},\r\n        {id: 6, message: \"Love\"},\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body} ]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: 'SEND_MESSAGE', newMessageBody}) \r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user.9b573405.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.svg.46280a98.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2FO1C\"};","module.exports = __webpack_public_path__ + \"static/media/logo.d81dcbda.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Ko8EW\",\"item\":\"Navbar_item__1w8Jo\",\"activeLink\":\"Navbar_activeLink__qOR4G\"};","import React from 'react';\r\nimport styles from \"./../FormsControls/FormsControls.module.css\"\r\nimport { Field } from 'redux-form';\r\nimport s from '../../Login/Login.module.css';\r\n\r\nexport const FormControl = ({input, meta:{touched,error},children}) => {\r\n\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className = {styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/> </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/> </FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field className = {s.form}\r\n               placeholder = {placeholder} name = {name} \r\n               validate = {validators} \r\n               component = {component}\r\n               {...props}\r\n        />{text}\r\n    </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"News_block__3kKNO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"timer_block__2RBBl\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from \"./Navbar.module.css\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n// let s = {\r\n//     'nav': 'Navbar_nav__3ou9Q',\r\n//     'item': 'Navbar_item__3qaF3'\r\n//     'active': 'Baksndakdn_actv'\r\n// }\r\n\r\n// let c1 = 'item';\r\n// let c2 = 'active';\r\n// 'item active'\r\n// let classes = c1 + \"\" + c2;\r\n// let classesNew = `${s.item} ${c2}`;\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className = {s.nav}> \r\n          <div className = {s.item}>\r\n            <NavLink to = \"/profile\" activeClassName = {s.activeLink}>Profile</NavLink>\r\n          </div>\r\n          <div className = {`${s.item} ${s.active}`}>\r\n            <NavLink to = \"/dialogs\" activeClassName = {s.activeLink}>Messages</NavLink>\r\n          </div>\r\n          <div className = {`${s.item} ${s.active}`}>\r\n            <NavLink to = \"/users\" activeClassName = {s.activeLink}>Users</NavLink>\r\n          </div>\r\n          <div className = {s.item}>\r\n            <NavLink to = \"/news\" activeClassName = {s.activeLink}>News</NavLink>\r\n          </div>\r\n          <div className = {s.item}>\r\n            <NavLink to = \"/music\" activeClassName = {s.activeLink}>Music</NavLink>\r\n          </div>\r\n          <div className = {s.item}>\r\n            <NavLink to = \"/timer\" activeClassName = {s.activeLink}>Timer</NavLink>\r\n          </div>\r\n      </nav>\r\n)}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState,action) => {\r\n    \r\n    switch(action.type) {\r\n        case FOLLOW:\r\n           return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return { \r\n                ...state, \r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)  \r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId}) \r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }  \r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }  \r\n}\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\n//import cn from 'classnames';\r\n\r\nlet Paginator = ({totalItemsCount,pageSize,onPageChanged,currentPage, portionSize = 10}) => {\r\n    \r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i=1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNamber, setPortionNamber] = useState(1);\r\n    let leftPortionPageNamber = (portionNamber - 1) * portionSize + 1;\r\n    let rightPortionPageNamber = portionNamber * portionSize;\r\n\r\n    return <div className = {styles.paginator}>\r\n        {/* {cn (styles.paginator, {\r\n        [styles.selectedPage] : true })}> */}\r\n        {portionNamber > 1 && \r\n        <button onClick = { () => {setPortionNamber (portionNamber -1) }}>PREV</button> }\r\n           \r\n            { pages\r\n                .filter(p => p >= leftPortionPageNamber && p <= rightPortionPageNamber)\r\n                .map ((p) => {\r\n                return <span className = { ({ \r\n                    [styles.selectedPage] : currentPage === p \r\n                }, styles.pageNamber)  }\r\n                             key = {p}\r\n                             onClick = { (e) => {\r\n                                  onPageChanged(p); \r\n                             }}>{p}</span>\r\n            })}\r\n\r\n            { portionCount > portionNamber &&\r\n                <button onClick = { () => {setPortionNamber(portionNamber + 1) }}>NEXT</button>}\r\n        </div>\r\n}\r\n        \r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div> \r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src = {user.photos.small != null ? user.photos.small : userPhoto} \r\n                                className = {styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                                ? <button style={{backgroundcolor: \"fff\", color: \"fff\", borderRadius: \"10\"}} disabled = {followingInProgress.some(id => id === user.id)} \r\n                                        onClick = {() => { unfollow(user.id) }}>\r\n                                    Unfollow</button>\r\n                                : <button disabled = {followingInProgress.some(id => id === user.id)} \r\n                                        onClick = {() => { follow(user.id) }}>\r\n                                    Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div> \r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n    return <div> \r\n        <Paginator currentPage = {currentPage} onPageChanged = {onPageChanged} \r\n                   totalItemsCount = {totalUsersCount} pageSize = {pageSize} />\r\n        <div>\r\n        {\r\n            users.map ( u => <User user = {u}\r\n                                   followingInProgress = {props.followingInProgress}\r\n                                   key = {u.id}\r\n                                   unfollow = {props.unfollow}\r\n                                   follow = {props.follow}\r\n                    />\r\n            )\r\n        }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersSelector, \r\n    (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n      \r\n      \r\n   \r\n","import React from 'react';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { connect } from 'react-redux';\r\nimport Users from '../Users/Users';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'; \r\nimport { compose } from 'redux';\r\nimport { getUsers,getFollowingInProgress, getIsFetching, getCurrentPage, getTotalUsersCount, getPageSize} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage,pageSize} = this.props;\r\n        this.props.getUsers(currentPage,pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNamber) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNamber,pageSize);\r\n    }\r\n\r\n    render () {\r\n        return <>\r\n              {this.props.isFetching ? <Preloader /> : null}\r\n              <Users totalUsersCount = {this.props.totalUsersCount}\r\n                      pageSize = {this.props.pageSize}\r\n                      currentPage = {this.props.currentPage}\r\n                      onPageChanged = {this.onPageChanged}\r\n                      users = {this.props.users}\r\n                      follow = {this.props.follow}\r\n                      unfollow = {this.props.unfollow} \r\n                      followingInProgress = {this.props.followingInProgress}\r\n                /> \r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nlet withRedirect = withAuthRedirect(UsersContainer);\r\n\r\nexport default compose(\r\n   withAuthRedirect,\r\n    connect (mapStateToProps, {follow,unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport s from \"./Header.module.css\"\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../logo.png';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n    <header className = {s.header}>\r\n      <img src = {logo} />\r\n\r\n      <div className = {s.loginBlock}>\r\n          {props.isAuth \r\n          ? <div>{props.login} - <button onClick = {props.logout}>Log out</button></div>\r\n            : <NavLink to = {'/login'}>Login</NavLink> }\r\n      </div>\r\n    </header>\r\n)}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'kris-dev/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'kris-dev/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null //if null, then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState,action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA: \r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return { \r\n                ...state, \r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: \r\n         {userId, email, login, isAuth} \r\n}); \r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} \r\n}); \r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n          \r\n    if (response.data.resultCode === 0) {\r\n    let {id, login, email} = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n    }      \r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    \r\n    let response = await authAPI.login(email,password,rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n        \r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    \r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n      return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer); ","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from './../common/FormsControls/FormsControls.module.css';\r\nimport s from '../Login/Login.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit = {handleSubmit} className = \"s.form\">\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {captchaUrl && <img src ={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {}) }\r\n    \r\n            {error && <div className = {s.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to = {\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm  onSubmit = {onSubmit} captchaUrl = {props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n    \r\nexport default connect(mapStateToProps, {login}) (Login);\r\n","import { authAPI } from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState,action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS: \r\n            return { \r\n                ...state, \r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS}); \r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all ([promise])\r\n    .then(() => {\r\n        dispatch(getAuthUserData());\r\n    })\r\n    dispatch(initializedSuccess());\r\n}\r\n\r\nexport default appReducer;","import React, { Component } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback = {<Preloader />}>\r\n        <Component {...props} />       \r\n    </React.Suspense>\r\n    };\r\n}","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState,action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { musicAPI } from \"../api/api\";\r\n\r\n\r\nconst PLAY = 'PLAY';\r\nconst STOP = 'STOP';\r\n\r\nlet initialState = {\r\n    playlist: [],\r\n};\r\n\r\nconst musicReducer = (state = initialState,action) => {\r\n    \r\n    switch(action.type) {\r\n        case PLAY:\r\n           return {\r\n                ...state,\r\n                playlist: state.playlist.map(m => {\r\n                    if (m.id === action.musicId) {\r\n                        return {...m, followed: true}\r\n                    }\r\n                    return m;\r\n                })\r\n            }\r\n        case STOP:\r\n            return {\r\n                ...state,\r\n                playlist: state.playlist.map(m => {\r\n                    if (m.id === action.musicId) {\r\n                        return {...m, followed: false}\r\n                    }\r\n                    return m;\r\n                })\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const play = (musicId) => ({type: PLAY, musicId}) \r\nexport const stop = (musicId) => ({ type: STOP, musicId})\r\n\r\nexport default musicReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\nimport musicReducer from \"./music.reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    music: musicReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React, { useState } from 'react'\r\nimport styles from '../Music/music.module.css'\r\nimport addImg from '../../assets/images/play-button.png'\r\nimport removeImg from '../../assets/images/remove.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport * as axios from 'axios'\r\n\r\n\r\nconst Music = () => {\r\n  const [count, setCount] = useState(null)\r\n\r\n  const newTreack = <img src='https://i1.sndcdn.com/artworks-000132810615-0q62i5-t120x120.jpg' />\r\n\r\n  const addTreack = (count) => {\r\n    return setCount(newTreack)\r\n  }\r\n\r\n  const removeTreack = (count) => {\r\n    return setCount(!newTreack)\r\n  }\r\n\r\n    return ( \r\n      <div>\r\n          <h1 style={{color: \"911A91\"}}>PLAYLIST <img /> </h1>\r\n              <p>{count}</p>\r\n               <button style={{backgroundcolor: \"fff\", color: \"fff\", borderRadius: '10'}}onClick={addTreack}>\r\n                <img src={addImg} /> \r\n              </button>\r\n               <button onClick={removeTreack}>\r\n               <img src={removeImg} /> \r\n              </button>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Music\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport addImg from '../../assets/images/play-button.png'\r\nimport removeImg from '../../assets/images/remove.png'\r\nimport style from './News.module.css'\r\n\r\nconst News = ({initialCount}) => {\r\n  const [count, setCount] = useState(initialCount=0)\r\n\r\n  const minusCount = (prevCount) => {\r\n    setCount(prevCount => prevCount - 1)\r\n  }\r\n\r\n  if (count < 0) {\r\n    setCount (initialCount)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      News: {count}\r\n      <button onClick={()=> setCount(initialCount)}>Reset</button>\r\n      <button onClick={()=> setCount(prevCount => prevCount + 1)}>+</button>\r\n      <button onClick={minusCount}>-</button>\r\n    </>\r\n  )\r\n}\r\nexport default News;\r\n","import React, {useState, useEffect} from 'react'\r\nimport styles from './timer.module.css'\r\nimport addImg from '../../assets/images/play-button.png'\r\nimport removeImg from '../../assets/images/remove.png'\r\n\r\nconst Timer = () => {\r\n  let init = 0 \r\n  const [second, setSecond] = useState(init)\r\n\r\n\r\n  const startTime = () => {\r\n   let timer =  setInterval(()=> setSecond(second + 1), 1000)\r\n  }\r\n\r\n  \r\n  // useEffect(\r\n  //   () => {\r\n  //     return () => {\r\n  //       clearTimeout(timer)\r\n  //     }\r\n  //   },\r\n  //   [second]\r\n  // )\r\n\r\n  const stopTime = (timer) => {\r\n    return clearTimeout(timer)\r\n  }\r\n\r\n  // tick() {\r\n  //   this.setState(state => ({\r\n  //     seconds: state.seconds + 1\r\n  //   }));\r\n  // }\r\n\r\n  return(\r\n    <>\r\n    <div>Time: {second}</div>\r\n    <button onClick={startTime()}>Start</button>\r\n    <button onClick={stopTime}>Stop</button>\r\n    </>\r\n  )\r\n\r\n  \r\n}\r\n\r\nexport default Timer;","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {HashRouter,Route, withRouter, Switch, Redirect} from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport {initializeApp} from './redux/app-reducer.js'\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport {withSuspense} from './hoc/withSuspense';\r\nimport store from './redux/redux-store'\r\nimport Music from './components/Music/Music.jsx';\r\nimport News from './components/News/News';\r\nimport Timer from './components/Timer/Timer';\r\n\r\n\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends Component {\r\n       catchAllUnhandleErrors = (reason, promise) => {\r\n              // alert(\"Error\")\r\n       }\r\n       componentDidMount() {\r\n              this.props.initializeApp();\r\n              window.addEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors);\r\n       }\r\n\r\n       componentWillMount() {\r\n              window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors);\r\n       }\r\n\r\n       render() {\r\n              if (!this.props.initialized) {\r\n                 return <Preloader />\r\n              }\r\n              \r\n              return (\r\n                     <div className = 'app-wrapper'>\r\n                            <HeaderContainer />\r\n                            <Navbar />\r\n                            <div className = 'app-wrapper-content'>\r\n                                   <Switch>\r\n                                     <Route exact path = '/' \r\n                                                 render = { () => <Redirect to = {\"/profile\"} /> }/>\r\n                                     <Route path ='/dialogs' \r\n                                                 render = {withSuspense(DialogsContainer)} />\r\n                                      <Route path = '/profile/:userId?' \r\n                                                 render = {withSuspense(ProfileContainer)} />\r\n                                      <Route path = '/users' \r\n                                                 render = { () => <UsersContainer /> }/>\r\n                                      <Route path = '/login' \r\n                                                 render = { () => <LoginPage /> }/>\r\n                                      <Route path = '/news' \r\n                                                 render = { () => <News /> }/>\r\n                                      <Route path = '/music' \r\n                                                 render = { () => <Music /> }/>\r\n                                      <Route path = '/timer' \r\n                                                 render = { () => <Timer /> }/>\r\n                                      <Route path = '*' \r\n                                                 render = { () => <div>404 NOT FOUND</div> }/>\r\n                                   </Switch>\r\n                            </div>\r\n                     </div>\r\n              )\r\n       }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n       initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n       withRouter, \r\n       connect(mapStateToProps, {initializeApp})) (App);\r\n\r\nconst BaseJSApp = (props) => {\r\n       return <HashRouter>\r\n           <Provider store = {store}>\r\n              <AppContainer />\r\n           </Provider>\r\n       </HashRouter>\r\n}\r\n\r\nexport default BaseJSApp;\r\n","import * as serviceWorker from './serviceWorker';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport BaseJSApp from './App';\r\n\r\nReactDOM.render(<BaseJSApp />, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg.gif';\r\n\r\nlet Preloader = (props) => {\r\n    return <img src = {preloader} />\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1H-BZ\",\"error\":\"FormsControls_error__2iTUg\",\"formSummaryError\":\"FormsControls_formSummaryError__2NpLn\"};","import React from 'react';\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1ryVS\",\"pageNamber\":\"Paginator_pageNamber__3Sqbk\",\"selectedPage\":\"Paginator_selectedPage__kdBcR\"};","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  });\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to = '/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2POHf\",\"loginBlock\":\"Header_loginBlock__1gpVr\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SACCESS ='SAVE_PHOTO_SACCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'This, super post!', likesCount: 12},\r\n        {id: 2, message: 'Liza super cat!', likesCount: 11}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState,action) => {\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        case SAVE_PHOTO_SACCESS: {\r\n            return {...state, profile: {...state.profile,photos: action.photos} }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText}) \r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile}) \r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId}) \r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SACCESS, photos}) \r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data) );\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data) );\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n                    \r\n        if (response.data.resultCode ===0 ) {\r\n                    dispatch(setStatus(status) );\r\n        }\r\n    }catch(error) {\r\n        //error\r\n    }\r\n} \r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n            \r\n    if (response.data.resultCode === 0 ) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos) );\r\n    }\r\n} \r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n            \r\n    if (response.data.resultCode ===0 ) {\r\n             dispatch(getUserProfile(userId));\r\n    }else{\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\r\n        //dispatch(stopSubmit(\"edit-profile\", {\"contacts\": {\"facebook\": response.data.messages[0]} }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n} \r\n\r\nexport default profileReducer;"],"sourceRoot":""}